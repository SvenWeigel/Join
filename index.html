<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="assets/img/login_center_logo.svg"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="styles/log_in.css" />
    <link rel="stylesheet" href="styles/global.css" />
    <link rel="stylesheet" href="styles/font.css" />
    <link rel="stylesheet" href="styles/responsiv/responsiv_login.css" />
    <script>
      /**
       * @file index.html
       * @description Entry page for the Join application. Includes minimal inline
       * scripts that perform runtime checks (redirect if already logged in,
       * skip animations) and load main scripts. JSDoc is provided here so
       * inline-script behavior is documented for automated doc generation.
       */
    </script>
    <script src="scripts/script.js"></script>
    <script>
      /**
       * Redirects a user to the summary page if they are already authenticated.
       * This calls the `redirectIfLoggedIn` function from `scripts/script.js` if
       * it exists at runtime.
       * @returns {void}
       */
      if (typeof redirectIfLoggedIn === "function") {
        redirectIfLoggedIn();
      }
    </script>
    <title>Join</title>
  </head>

  <body>
    <script>
      /**
       * Checks whether animations should be skipped (e.g. after logout) and
       * applies a CSS class to the root element to disable animations.
       * @returns {void}
       */
      if (sessionStorage.getItem("skipAnimation")) {
        document.documentElement.classList.add("skip-animation");
      }
    </script>
    <div class="center_img_container">
      <img
        src="assets/img/login_center_logo.svg"
        alt="center logo"
        class="center_img"
      />
    </div>
    <div class="login_container hidden">
      <form action="">
        <div class="login-form-header-div">
          <h1>Log in</h1>
          <div class="border-bottom-div"></div>
        </div>
        <div class="login_input_container">
          <div class="input-box">
            <input
              id="login-email-input"
              class="login_input"
              type="text"
              placeholder="Email"
              onclick="preFillLoginForm()"
            />
            <img src="assets/icons/mail.svg" class="login-form-icon" alt="" />
          </div>

          <div class="input-box">
            <input
              id="login-password-input"
              oninput="changePasswordIcon()"
              class="login_input"
              type="password"
              placeholder="Password"
            />
            <img
              id="password-icon"
              src="assets/icons/lock.svg"
              onclick="togglePasswordVisibility()"
              class="login-form-icon"
              alt=""
            />
          </div>
        </div>
        <div class="login-form-btns-container">
          <button class="login-form-btn-login">Log in</button>
          <button class="login-form-btn-guestlogin">Guest Log in</button>
        </div>
      </form>
    </div>

    <!-- Logo on the login page -->
    <div class="login-site-logo-container hidden">
      <img src="assets/img/logo.svg" alt="site logo" class="login-site-logo" />
    </div>

    <header class="login-site-header hidden">
      <div class="muted-text">
        <img
          src="assets/img/Not-a-Join-user.svg"
          class="login-site-header-text"
        />
      </div>
      <div class="login-site-header-link">
        <a href="html/sign_up.html" class="login-site-header-to-signup"
          >Sign up</a
        >
      </div>
    </header>

    <footer class="login-site-footer hidden">
      <a href="html/privacy_policy.html">Privacy policy</a>
      <a href="html/legal_notice.html">Legal Notice</a>
    </footer>

    <script src="scripts/login_animation.js"></script>
    <script src="scripts/db.js"></script>
    <script src="scripts/guest_login.js"></script>
    <script src="scripts/login.js"></script>
  </body>
</html>
